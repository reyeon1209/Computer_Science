## **THEMA 26 스캐닝(Scanning)**

### 1. 스캐닝
- 네트워크 상에서 전문 도구를 이용해 공격대상 네트워크의 상태를 조사하여 정보 수집

### 2. 스캐닝 종류
#### (1) TCP Half-OPEN 스캔
- 포트가 열려있을 경우: RST
- 포트가 닫혀있을 경우: RST + ACK

#### (2) UDP 스캔
- 포트가 열려있을 경우: 응답없음
- 포트가 닫혀있을 경우: ICMP Unreachable 패킷

#### (3) 스텔스 스캔
- 포트가 열려있을 경우: 응답없음
- 포트가 닫혀있을 경우: RST
- 공격대상 시스템의 로그에 기록되지 않는다.
- 방화벽은 통과할 수 있지만 IDS를 완전히 피할 수는 없다.
- 공격대상에게 공격자의 위치를 숨길 수 있다.
- FIN 스캔: TCP FIN 플래그를 설정한 패킷을 공격 대상 시스템에 전송
- X-MAS 스캔: TCP 플래그 값을 모두 설정하거나 일부 값을 설정한 패킷을 공격 대상 시스템에 전송
- Null 스캔: TCP 플래그 값을 설정하지 않은 패킷을 공격 대상 시스템에 전송

#### (4) 단편화 스캔
- TCP 해더를 두 개의 패킷으로 나누어 공격 대상 시스템에 전송
- 첫 번째 패킷에는 출발지 IP주소와 목적지 IP주소를 저장, 두 번째 패킷에는 스캔하고자 하는 포트 번호를 저장하여 전송
- 스캐너와 스캔 대상 시스템 사이에 설치된 방화벽의 종류와 정책을 판단

#### (5) ACK 스캔
- 스캐너와 스캔 대상 시스템 사이에 설치된 방화벽의 종류와 정책을 판단

### nmap (network mapper)
- 스캔 대상 시스템 및 네트워크 영역을 설정한다.
- 열려있는 포트 번호에 대한 목록을 보여준다.
- 열린 포트에 대한 상태 정보(OS 종류, 방화벽 설치 여부)를 보여준다.
- 제공 서비스에 대한 내용을 보여준다.
- 시스템에서 사용하는 MAC 주소에 대한 정보를 보여준다.

### 스캔
- nmap
- fping: 멀티캐스트 방식 ping
- sing

### FTP bounce 공격
- FTP 서버가 데이터를 전송할 때 목적지를 검사하지 않는다는 점을 이용
- 익명 FTP 서버를 경유하여 특정 호스트의 포트를 스캔

### Firewalk
- 방화벽의 ACL(Access Control List)를 알아내는 방법
- 방화벽까지의 TTL보다 1만틈 더 큰 TTL 값을 생성하여 보냄
- 방화벽이 패킷을 차단할 경우, 응답 없음
- 방화벽이 패킷을 전달할 경우, 패킷은 다음 라우터에서 사라지며 ICMP Time Exceeded 메시지를 보낸다.
- 공격자는 ICMP Time Exceeded 메시지를 받은 포트에 대해 열린 포트임을 알 수 있다.

### NetBIOS
- 윈도우에서 시스템 정보 수집, 사용자 목록화, 공유 자원 목록화 등을 수행하기 위해 사용되는 프로토콜



## **THEMA 27 악성 소프트웨어**

### 1. 바이러스/웜/트로이목마
| |바이러스|웜|트로이목마|
|---|---|---|---|
|자기 복제 유무|O (주목적 X)|O (과부하 유발해 가용성 공격)|X|
|전파 경로|사용자가 전송매체 통해 감염된 파일을 옮김|네트워크를 통해 스스로 전파|사용자가 정상 프로그램으로 오인하여 실행|
|형태|감염대상 필요|독자적 존재|유틸리티 내 코드 형태로 삽입|
|주요 증상|해당 컴퓨터의 시스템 및 파일 손상|네트워크/컴퓨터 성능 저하|백도어 설치, 원격 제어 등|

#### 웜의 확산 도구
- 이메일
- P2P
- 공유 폴더

#### 슬래머 웜
- MS사의 SQL Server를 대상으로 전파되어 서비스 거부 공격 실시
- SQL Server의 버퍼 오버플로 취약점을 이용
- UDP를 사용하여 패킷을 전송

### 2. 바이러스 분류
#### (1) 1세대 원시형 바이러스
#### (2) 2세대 암호화 바이러스
#### (3) 3세대 은폐형 바이러스
- 감염된 파일의 길이가 증가되지 않은 것처럼
#### (4) 4세대 갑옷형 바이러스
- 여러 단계의 암호화와 다양한 기법으로 바이러스 분석을 어렵게 함
#### (5) 5세대 매크로 바이러스

#### 감염 영역별 분류
- 부트 바이러스
- 매크로 바이러스
- 파일 바이러스

#### 은닉 전략에 따른 분류
- 암호화된 바이러스
- 스텔스 바이러스: 바이러스 전체를 숨김
- 폴리모픽 바이러스: 모양을 변경
- 메타모픽 바이러스: 모양 & 활동방법 변경

### 3. 악성 소프트웨어
- 크라임웨어(crimeware): 온라인을 통해 불법적 행동 수행
- 스파이웨어(spyware)
- 애드웨어(adware)
- 오토런 바이러스
- 랜섬웨어(ransomware)
- 논리폭탄: 정상 프로그램에 은폐된 루틴을 삽입하여 논리적 조건이 이루어지면 루틴에 삽입된 명령 실행
- 봇(bot): 몰래 잡입해 있다가 해커의 조정에 따라 시스템을 감염
- 백도어/트랩도어
- 브라우저 하이재커
- 루트킷(rootkit): 관리자 권한을 획득, 공격자가 설치한 파일을 숨김 설정, 프로세스의 보호 설정을 해제, 환경설정 파일/시스템 파일 변경
- 다운로더
- 혹스(Hoax): 거짓 정보나 괴담 등을 실어 사용자를 속이는 가짜 컴퓨터 바이러스
- 악성 자바 코드
- 악성 ActiveX
- 사이버 반달리즘
- 후킹(hooking): 운영체제의 시스템 호출이나 주변기기와의 인터페이스 메시지를 가로채는 기술, 키보드 사용 내역을 가로채는데 사용
- 디페이스: 웹서버를 해킹하여 웹사이트의 화면을 위변조

#### 백도어/트랩도어
- 로컬 백도어: 사용자 계정 필요, 시스템에 로그인한 뒤 관리자로 권한 상승
- 원격 백도어
- 시스템 설정 변경 백도어: cron 데몬 사용 (정해진 시간에 프로그램 실행 예약)



## **THEMA 28 사회공학적 공격**

### 1. 피싱 (Phishing)
- 이메일 + 위조된 하이퍼링크(가짜 웹페이지)

### 2. 파밍 (Pharming)
- 호스트 파일 조작, DNS 캐시 포이즈닝, 브라우저 변조

### 3. 스미싱 (Smishing)
- 문자메시지 + 위조된 링크

#### 4. 이블트윈 공격
- 지인 또는 특정 유명인으로 가장하여 활동

#### 5. 스피어 피싱
- 친분이 있는 송신자로 위장해 ID 및 패스워드 정보를 요구



## **THEMA 29 APT 공격 (Advanced Persistent Threat)**




